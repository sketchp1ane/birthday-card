@import "tailwindcss";

@layer utilities {
  .confetti-dot {
    position: fixed;
    top: 0;
    border-radius: 9999px;
    animation: fall var(--dur) ease-out forwards;
    animation-delay: var(--delay);
    transform: translateX(var(--tx));
  }

  @keyframes fall {
    from {
      transform: translateY(-10vh) translateX(var(--tx));
      opacity: 1;
    }
    to {
      transform: translateY(100vh) translateX(var(--tx));
      opacity: 0;
    }
  }

  @keyframes aurora {
    0% {
      transform: translateY(0) translateX(-10%);
    }
    50% {
      transform: translateY(-6%) translateX(10%);
    }
    100% {
      transform: translateY(0) translateX(-10%);
    }
  }

  .animate-floating {
    animation: floating 14s ease-in-out infinite;
  }

  @keyframes floating {
    0% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-12px);
    }
    100% {
      transform: translateY(0px);
    }
  }

  .animate-progress-sheen {
    animation: progress-sheen 1.8s ease-in-out infinite;
  }

  @keyframes progress-sheen {
    0% {
      transform: translateX(-60%);
      opacity: 0;
    }
    25% {
      opacity: 0.25;
    }
    50% {
      opacity: 0.15;
    }
    100% {
      transform: translateX(120%);
      opacity: 0;
    }
  }

  .assistant-chat {
    position: relative;
    transform-origin: 100% 100%;
    opacity: 0;
  }

  .assistant-chat-in {
    animation: assistant-chat-in 0.48s cubic-bezier(0.2, 0.75, 0.25, 1) forwards;
  }

  .assistant-chat-out {
    animation: assistant-chat-out 0.28s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  }

  @keyframes assistant-chat-in {
    0% {
      opacity: 0;
      transform: translate3d(12px, 14px, 0) scale(0.92);
    }
    60% {
      opacity: 1;
      transform: translate3d(-3px, -4px, 0) scale(1.02);
    }
    100% {
      opacity: 1;
      transform: translate3d(0, 0, 0) scale(1);
    }
  }

  @keyframes assistant-chat-out {
    0% {
      opacity: 1;
      transform: translate3d(0, 0, 0) scale(1);
    }
    100% {
      opacity: 0;
      transform: translate3d(8px, 10px, 0) scale(0.94);
    }
  }

}

@layer components {
  .flip-unit {
    perspective: 1200px;
  }

  .flip-card {
    position: relative;
    transform-style: preserve-3d;
    transition: transform 0.55s cubic-bezier(0.4, 0.01, 0.2, 1.4);
  }

  .flip-card.is-flipping {
    transform: rotateX(-180deg);
  }

  .flip-card-face {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    backface-visibility: hidden;
    background: inherit;
  }

  .flip-card-back {
    transform: rotateX(180deg);
  }

  .flip-card-shadow {
    position: absolute;
    inset: 0;
    border-radius: inherit;
    box-shadow: 0 18px 40px -26px rgba(15, 23, 42, 0.45);
  }

  .progress-reveal {
    opacity: 0;
    transform: translateY(12px);
    animation: progress-reveal 0.6s ease forwards;
  }

  .progress-reveal[data-delay="1"] {
    animation-delay: 0.1s;
  }

  .progress-reveal[data-delay="2"] {
    animation-delay: 0.2s;
  }

  .progress-reveal[data-delay="3"] {
    animation-delay: 0.3s;
  }

  .progress-reveal[data-delay="4"] {
    animation-delay: 0.4s;
  }

  .progress-indicator {
    animation: progress-bob 2.6s ease-in-out infinite;
  }

  .quote-script {
    font-family: 'Playfair Display', 'Times New Roman', serif;
    font-style: italic;
    letter-spacing: 0.08em;
  }

  .quote-glow {
    background: linear-gradient(120deg, rgba(167,139,250,0.18), rgba(56,189,248,0.18));
    filter: blur(32px);
    opacity: 0.7;
  }
}

@keyframes progress-reveal {
  0% {
    opacity: 0;
    transform: translateY(12px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes progress-bob {
  0%,
  100% {
    transform: translate(-50%, -55%);
  }
  50% {
    transform: translate(-50%, -42%);
  }
}
